const apiKey = "your own api key";

const getWeather = (city) => {
  cityName.innerHTML = city;

  fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)
    .then(response => response.json())
    .then(response => {
      console.log(response);

      temp.innerHTML = response.main.temp + " °C";
      temp2.innerHTML = response.main.temp + " °C";
      feels_like.innerHTML = response.main.feels_like + " °C";
      humidity.innerHTML = response.main.humidity + " %";
      humidity2.innerHTML = response.main.humidity + " %";
      min_temp.innerHTML = response.main.temp_min + " °C";
      max_temp.innerHTML = response.main.temp_max + " °C";
      wind_speed.innerHTML = response.wind.speed + " km/hr";
      wind_speed2.innerHTML = response.wind.speed + " km/hr";
      wind_degrees.innerHTML = response.wind.deg + "°";
      sunrise.innerHTML = new Date(response.sys.sunrise * 1000).toLocaleTimeString();
      sunset.innerHTML = new Date(response.sys.sunset * 1000).toLocaleTimeString();
    })
    .catch(err => console.error("Error fetching weather:", err)); 
};


submit.addEventListener("click", (e) => {
  e.preventDefault();
  const cityInput = city.value.trim();  
  if(cityInput) {
    getWeather(cityInput);
  } else {
    alert("Please enter a city name");
  }
});


getWeather("Delhi");

const updateCityWeather = (city, prefix) => {
  fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)
    .then(response => response.json())
    .then(data => {
      document.getElementById(`${prefix}_wind_speed`).innerHTML = data.wind.speed + " km/hr";
      document.getElementById(`${prefix}_wind_deg`).innerHTML = data.wind.deg + "°";
      document.getElementById(`${prefix}_temp`).innerHTML = data.main.temp + " °C";
      document.getElementById(`${prefix}_humidity`).innerHTML = data.main.humidity + " %";
      document.getElementById(`${prefix}_sunset`).innerHTML = new Date(data.sys.sunset * 1000).toLocaleTimeString();
      document.getElementById(`${prefix}_min`).innerHTML = data.main.temp_min + " °C";
      document.getElementById(`${prefix}_feels`).innerHTML = data.main.feels_like + " °C";
      document.getElementById(`${prefix}_sunrise`).innerHTML = new Date(data.sys.sunrise * 1000).toLocaleTimeString();
      document.getElementById(`${prefix}_max`).innerHTML = data.main.temp_max + " °C";
    })
    .catch(err => console.error(`Error fetching weather for ${city}:`, err));
};

updateCityWeather("Shanghai", "shanghai");
updateCityWeather("Boston", "boston");
updateCityWeather("Lucknow", "lucknow");
updateCityWeather("Mumbai", "mumbai");
updateCityWeather("Chennai", "chennai");
updateCityWeather("Kolkata", "kolkata");
updateCityWeather("Delhi", "delhi");
